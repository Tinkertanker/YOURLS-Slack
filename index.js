const _0x5986=['/unshorten','v0=','slice','send','&keyword=\x27','POST','charAt','then','RFC1738','headers','body','split','createHmac','digest','yourl','Faked\x20signature!!!!','post','&format=json','hex','Verified.\x20Attemping\x20to\x20shorten!\x20:link:','log','./config.json','toUpperCase','v0:','update','sha256','node-fetch','text','Content-Type','setHeader','json','&action=delete&shorturl=','stringify','Verified.\x20Attemping\x20to\x20unshorten!\x20:boom:','/yourls-api.php?signature=','Missing\x20Arguments','x-slack-signature','application/json','use','Success:\x20','crypto','toLowerCase','\x0aShortcut:\x20','signature','utf8','statusCode','in_channel','listen','x-slack-request-timestamp','success','/shorten','message','status','response_url'];(function(_0x26ef27,_0x598630){const _0x103e04=function(_0xb06e65){while(--_0xb06e65){_0x26ef27['push'](_0x26ef27['shift']());}};_0x103e04(++_0x598630);}(_0x5986,0x6e));const _0x103e=function(_0x26ef27,_0x598630){_0x26ef27=_0x26ef27-0x0;let _0x103e04=_0x5986[_0x26ef27];return _0x103e04;};const fetch=require(_0x103e('0x18'));var express=require('express'),app=express(),bodyParser=require('body-parser'),crypto=require(_0x103e('0x26')),qs=require('qs');const config=require(_0x103e('0x13')),slackSigningSecret=config['signingsecret'];app[_0x103e('0x24')](bodyParser()),app[_0x103e('0xe')](_0x103e('0x30'),function(_0x7b5b5e,_0x201e68){let _0x5c3237=_0x7b5b5e[_0x103e('0x7')][_0x103e('0x22')],_0x141425=qs[_0x103e('0x1e')](_0x7b5b5e[_0x103e('0x8')],{'format':_0x103e('0x6')}),_0x57f87e=_0x7b5b5e[_0x103e('0x7')]['x-slack-request-timestamp'],_0x163dc3=_0x103e('0x15')+_0x57f87e+':'+_0x141425,_0x4279e1=_0x103e('0x35')+crypto[_0x103e('0xa')](_0x103e('0x17'),slackSigningSecret)[_0x103e('0x16')](_0x163dc3,'utf8')['digest'](_0x103e('0x10'));if(_0x5c3237!=_0x4279e1){console['log'](_0x103e('0xd'));return;}let _0x3644fd=_0x7b5b5e[_0x103e('0x8')][_0x103e('0x19')][_0x103e('0x9')]('\x20');_0x201e68[_0x103e('0x1b')](_0x103e('0x1a'),_0x103e('0x23'));if(!_0x3644fd[0x0]||!_0x3644fd[0x1]){_0x201e68[_0x103e('0x1')](JSON[_0x103e('0x1e')]({'response_type':_0x103e('0x2c'),'text':_0x103e('0x21')}));return;}_0x201e68['send'](JSON['stringify']({'response_type':_0x103e('0x2c'),'text':_0x103e('0x11')})),fetch(config['yourl']+_0x103e('0x20')+encodeURI(config[_0x103e('0x29')])+'&action=shorturl&format=json&url='+encodeURI(_0x3644fd[0x0])+_0x103e('0x2')+encodeURI(_0x3644fd[0x1][_0x103e('0x27')]())+'\x27')[_0x103e('0x5')](_0x3c49d1=>_0x3c49d1[_0x103e('0x1c')]())[_0x103e('0x5')](_0x30b11b=>{_0x30b11b[_0x103e('0x32')]==='fail'&&fetch(_0x7b5b5e[_0x103e('0x8')][_0x103e('0x33')],{'method':_0x103e('0x3'),'body':JSON[_0x103e('0x1e')]({'response_type':_0x103e('0x2c'),'text':'Error:\x20'+_0x30b11b[_0x103e('0x31')]}),'headers':{'Content-Type':_0x103e('0x23')}}),_0x30b11b[_0x103e('0x32')]===_0x103e('0x2f')&&fetch(_0x7b5b5e[_0x103e('0x8')][_0x103e('0x33')],{'method':_0x103e('0x3'),'body':JSON[_0x103e('0x1e')]({'response_type':'in_channel','text':_0x103e('0x25')+_0x30b11b['message']+_0x103e('0x28')+_0x30b11b['shorturl']}),'headers':{'Content-Type':_0x103e('0x23')}});});}),app[_0x103e('0xe')](_0x103e('0x34'),function(_0x5a7f50,_0x116040){let _0x4f40f8=_0x5a7f50['headers'][_0x103e('0x22')],_0x2f248a=qs[_0x103e('0x1e')](_0x5a7f50[_0x103e('0x8')],{'format':_0x103e('0x6')}),_0x2803fa=_0x5a7f50[_0x103e('0x7')][_0x103e('0x2e')],_0x59fa97=_0x103e('0x15')+_0x2803fa+':'+_0x2f248a,_0x4a9684='v0='+crypto[_0x103e('0xa')](_0x103e('0x17'),slackSigningSecret)[_0x103e('0x16')](_0x59fa97,_0x103e('0x2a'))[_0x103e('0xb')]('hex');if(_0x4f40f8!=_0x4a9684){console[_0x103e('0x12')](_0x103e('0xd'));return;}let _0x43730f=_0x5a7f50[_0x103e('0x8')][_0x103e('0x19')][_0x103e('0x9')]('\x20');_0x116040['setHeader']('Content-Type','application/json');if(!_0x43730f[0x0]){_0x116040['send'](JSON[_0x103e('0x1e')]({'response_type':_0x103e('0x2c'),'text':_0x103e('0x21')}));return;}_0x116040[_0x103e('0x1')](JSON[_0x103e('0x1e')]({'response_type':_0x103e('0x2c'),'text':_0x103e('0x1f')})),fetch(config[_0x103e('0xc')]+_0x103e('0x20')+encodeURI(config['signature'])+_0x103e('0x1d')+encodeURI(_0x43730f[0x0][_0x103e('0x27')]())+_0x103e('0xf'))['then'](_0x1a81d7=>_0x1a81d7[_0x103e('0x1c')]())[_0x103e('0x5')](_0x32e591=>{_0x32e591['statusCode']!=0xc8&&fetch(_0x5a7f50[_0x103e('0x8')][_0x103e('0x33')],{'method':'POST','body':JSON[_0x103e('0x1e')]({'response_type':_0x103e('0x2c'),'text':''+(_0x32e591[_0x103e('0x31')]['charAt'](0x0)[_0x103e('0x14')]()+_0x32e591[_0x103e('0x31')][_0x103e('0x0')](0x1))}),'headers':{'Content-Type':_0x103e('0x23')}}),_0x32e591[_0x103e('0x2b')]===0xc8&&fetch(_0x5a7f50[_0x103e('0x8')][_0x103e('0x33')],{'method':_0x103e('0x3'),'body':JSON['stringify']({'response_type':'in_channel','text':''+(_0x32e591[_0x103e('0x31')][_0x103e('0x4')](0x0)[_0x103e('0x14')]()+_0x32e591[_0x103e('0x31')][_0x103e('0x0')](0x1))}),'headers':{'Content-Type':_0x103e('0x23')}});});}),app[_0x103e('0x2d')](config['port'],()=>console[_0x103e('0x12')]('Started\x20server\x20on\x20'+config['port']));
